<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSS Feed Viewer</title>
    <style>
/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Poppins:wght@300;500;700&display=swap');

body {
    font-family: 'Inter', sans-serif;
    background-color: #181818;
    color: #e0e0e0;
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.rss-container {
    max-width: 600px;
    background: #222;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    border-radius: 10px;
}

.rss-header {
    text-align: center;
    margin-bottom: 20px;
}

.rss-header h2 {
    font-family: 'Poppins', sans-serif;
    font-size: 24px;
    font-weight: 700;
    color: #00ff99;
}

.rss-header p {
    font-size: 14px;
    color: #b0b0b0;
}

.rss-item {
    border-bottom: 1px solid #333;
    padding: 15px 0;
}

.rss-item:last-child {
    border-bottom: none;
}

.rss-item h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
}

.rss-item a {
    color: #00ff99;
    text-decoration: none;
    transition: color 0.3s ease;
}

.rss-item a:hover {
    color: #00cc77;
    text-decoration: underline;
}

.rss-item p {
    font-size: 14px;
    color: #c0c0c0;
    margin: 5px 0;
}

.rss-date {
    font-size: 12px;
    color: #808080;
}
    </style>
</head>
<body>

    <div class="rss-container" id="rss-feed">
        <div class="rss-header">
            <h2>Latest News</h2>
        </div>
    </div>

    <script>
        async function loadRSS() {
            try {
                const response = await fetch(`https://api.allorigins.win/raw?url=https://www.infowars.com/rss.xml`);
                const text = await response.text();
                const parser = new DOMParser();
                const xml = parser.parseFromString(text, "application/xml");
    
                const channelTitle = xml.querySelector("channel > title").textContent;
                const channelDesc = xml.querySelector("channel > description").textContent;
                const channelLink = xml.querySelector("channel > link").textContent;
    
                let headerHTML = `
                    <div class="rss-header">
                        <h2><a href="${channelLink}" target="_blank">${channelTitle}</a></h2>
                        <p>${channelDesc}</p>
                    </div>
                `;
    
                const items = xml.querySelectorAll("item");
                console.log("Total items found:", items.length); // Debugging
    
                let html = '';
                for (let i = 0; i < items.length; i++) {
                    const item = items[i];
                    const title = item.querySelector("title")?.textContent || "No Title";
                    const link = item.querySelector("link")?.textContent || "#";
                    const description = item.querySelector("description")?.textContent || "No Description";
                    const pubDate = item.querySelector("pubDate")?.textContent || "";
    
                    html += `
                        <div class="rss-item">
                            <h3><a href="${link}" target="_blank">${title}</a></h3>
                            <p class="rss-date">${pubDate ? new Date(pubDate).toLocaleString() : "No Date"}</p>
                            <p>${description}</p>
                        </div>
                    `;
                }
    
                document.getElementById("rss-feed").innerHTML = headerHTML + html;
            } catch (error) {
                console.error("Error loading RSS feed:", error);
                document.getElementById("rss-feed").innerHTML = "<p>Failed to load RSS feed.</p>";
            }
        }
    
        loadRSS();
    </script>
    
</body>
</html>
